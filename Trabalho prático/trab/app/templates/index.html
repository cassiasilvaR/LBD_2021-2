<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <title>Trabalho Prático - Laboratório de banco de dados</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    </head>
    <body>
        <div class="col-8 m-auto pt-2 pb-2 text-center" style="background-color: antiquewhite;">
            <h1 style="color: coral; font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; font-weight: bolder;" >
                e-SHELF
            </h1>
        </div>
        <div class="menu text-center mt-4" >            
            <a href="/form" class="btn btn-successs" style="background-color: navajowhite;">
                Adicionar Livro
            </a>
            <a href="/form_e" class="btn btn-successs" style="background-color: navajowhite;">
                Adicionar Escritor(a)
            </a>
            <a href="/form_user" class="btn btn-success" style="background-color: navajowhite; color: black; border: white;">Cadastrar Usuário</a>
            <a href="/form_est" class="btn btn-success" style="background-color: navajowhite; color: black; border: white;">Registrar Estante</a>
            <a href="/devolver" class="btn btn-success" style="background-color: navajowhite; color: black; border: white;">Devolver livro</a>
        </div>
        <div class="col-8 m-auto pt-2 pb-2 text-center">
            <table class="table" style="background-color: brown; color: navajowhite; border: white;">
                <h2 style="color: indianred;">Livros Disponíveis</h2>
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Nome</th>
                    <th scope="col">Edicao</th>
                    <th scope="col">Ano</th>
                    <th scope="col">IBSN</th>
                    <th scope="col">Escritor(a)</th>
                    <th scope="col">Estante</th> 
                    <th scope="col">Ações</th>
                  </tr>
                </thead>
                <tbody>
                    {% for dbs in db %}
                    <tr>
                        <td>{{dbs.id}}</td>
                        <td>{{dbs.nome}}</td>
                        <td>{{dbs.edicao}}</td>
                        <td>{{dbs.ano}}</td>
                        <td>{{dbs.ibsn}}</td>
                        <td>{{dbs.escritor.nome}}</td>
                        <td>{{dbs.estante.categoria}}</td>
                        <td>
                            <a href="/view/{{dbs.id}}" class="btn btn-dark">Visualizar</a>
                            <a href="/edit/{{dbs.id}}" class="btn btn-primary">Editar</a>
                            <a href="/delete/{{dbs.id}}" class="btn btn-danger btnDel">Deletar</a>
                            <a href="/emprestar/{{dbs.id}}" class="btn btn-secondary">Emprestar</a>
                        </td>
                      </tr>
                    {%endfor%}
            </table>
        </div>
        
        {% load static %}
        <script src="{% static 'javascript.js' %}"></script>

        <div class="col-8 m-auto pt-2 pb-2 text-center">
            <table class="table" style="background-color: brown; color: navajowhite; border: white;">
                <h2 style="color: indianred;">Escritores</h2>
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Nome</th>
                    <th scope="col">Área de atuação</th>
                  </tr>
                </thead>
                <tbody>
                    {% for dbes in dbe %}
                    <tr>
                        <td>{{dbes.id}}</td>
                        <td>{{dbes.nome}}</td>
                        <td>{{dbes.area_atuacao}}</td>
                    </tr>
                    {%endfor%}
            </table>
        </div>
    </body>
</html>